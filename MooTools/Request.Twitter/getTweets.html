<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html;charset=UTF-8" />
   <title>Request.Twitter2</title>
   <style type="text/css">
   html,body{font-family: georgia,arial,verdana;}
   a{color: #393} 
   #ft {text-align: right;margin: 10px}   
   #ft a{font-size: 15px;color: #393}
   </style>
   <script src="http://www.google.com/jsapi?key=ABQIAAAA1XbMiDxx_BTCY2_FkPh06RRaGTYH6UMl8mADNa0YKuWNNa8VNxQEerTAUcfkyrr6OwBovxn7TDAH5Q"></script>
   <script type="text/javascript">google.load("mootools", "1.3");</script>
   <script type="text/javascript" src="Request.JSONP.js"></script>
   <script type="text/javascript">
      window.addEvent('domready',function(){       
       var deep = {
           receive: function(tweets) {
                 tweets.each(function(tweet){
                      new Element('div',{
                          'class': 'tweet',
                          'html': tweet.text
                       }).inject('tweets','bottom');   
                 });
           }  
       };
       new Request.JSONP({
           url: 'http://api.twitter.com/1/statuses/user_timeline/thinkphp.json',
           data: {
             count: 7
           },
           onComplete: function(data) {
              $('tweets').set('text','');
              deep.receive(data);
           },
           onRequest: function() {
              $('tweets').set('text','Loading...');
           }
       }).send(); 
     });
   </script>
</head>
<body>
<h1>Get Tweets using Request.JSONP based on MooTools</h1>
<pre><code>
window.addEvent('domready',function(){       
       var deep = {
           receive: function(tweets) {
                 tweets.each(function(tweet){
                      new Element('div',{
                          'class': 'tweet',
                          'html': tweet.text
                       }).inject('tweets','bottom');   
                 });
           }  
       };
       new Request.JSONP({
           url: 'http://twitter.com/statuses/user_timeline/thinkphp.json',
           data: {
             count: 7
           },
           onComplete: function(data) {
              deep.receive(data);
           }
       }).send(); 
});
</code></pre>
<div id="tweets"></div>
<div id="ft">written by @<a href="http://twitter.com/thinkphp">thinkphp</a> using class <a href="Request.JSONP.js">Request.JSONP</a></div>
</body>
</html>

